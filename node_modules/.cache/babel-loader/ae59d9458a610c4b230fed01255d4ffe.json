{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/DELL/OneDrive/Desktop/EXAM-PROJECT/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/DELL/OneDrive/Desktop/EXAM-PROJECT/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/DELL/OneDrive/Desktop/EXAM-PROJECT/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import ReactPaginate from\"react-paginate\";import Repos from\"./Repos\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function MyRepos(){var navigate=useNavigate();var ReturnHome=function ReturnHome(){navigate(\"/\");};var _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),repos=_useState4[0],setRepos=_useState4[1];var _useState5=useState(3),_useState6=_slicedToArray(_useState5,1),repoPerPage=_useState6[0];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];useEffect(function(){var fetchRepos=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return fetch(\"https://api.github.com/users/tomiwaaborowa/repos\");case 3:res=_context.sent;_context.next=6;return res.json();case 6:data=_context.sent;setRepos(data);setLoading(false);case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetchRepos(){return _ref.apply(this,arguments);};}();fetchRepos();},[]);function handlePageClick(_ref2){var selectedPage=_ref2.selected;console.log('selectedPage',selectedPage);setCurrentPage(selectedPage);}// Get current repos\nvar indexOfLastRepo=currentPage*repoPerPage;var indexOfFirstRepo=indexOfLastRepo-repoPerPage;var currentRepos=repos.slice(indexOfFirstRepo,indexOfLastRepo);// Change page\nvar paginate=function paginate(pageNumber){return setCurrentPage(pageNumber);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"main-title\",children:\"My Repos\"}),/*#__PURE__*/_jsx(Repos,{repos:currentRepos,loading:loading}),/*#__PURE__*/_jsx(ReactPaginate,{previousLabel:\"prev\",nextLabel:\"next\",breakLabel:\"...\",pageCount:4,containerClassName:\"pagination justify-content-center\",pageClassName:\"page-item\",onPageChange:handlePageClick,pageLinkClassName:\"page-link\",previousClassName:\"page-item\",previousLinkClassName:\"page-link\",nextClassName:\"page-item\",nextLinkClassName:\"page-link\",activeClassName:\"active\",reposPerPage:repoPerPage,totalRepos:repos.length,paginate:paginate})]}),/*#__PURE__*/_jsx(\"div\",{className:\"center\",children:/*#__PURE__*/_jsxs(\"button\",{class:\"button\",onClick:ReturnHome,children:[\"BACK \",/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-angle-double-left\"})]})})]});}export default MyRepos;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","ReactPaginate","Repos","MyRepos","navigate","ReturnHome","currentPage","setCurrentPage","repos","setRepos","repoPerPage","loading","setLoading","fetchRepos","fetch","res","json","data","handlePageClick","selectedPage","selected","console","log","indexOfLastRepo","indexOfFirstRepo","currentRepos","slice","paginate","pageNumber","length"],"sources":["C:/Users/DELL/OneDrive/Desktop/EXAM-PROJECT/src/components/MyRepos.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport ReactPaginate from \"react-paginate\";\r\nimport  Repos  from \"./Repos\";\r\n\r\nfunction MyRepos() {\r\n  const navigate = useNavigate();\r\n  const ReturnHome = () => {\r\n    navigate(\"/\");\r\n  };\r\n\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [repos, setRepos] = useState([]);\r\n  const [repoPerPage] = useState(3);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n\r\n  useEffect (() => { \r\n    const fetchRepos = async () => {\r\n      setLoading(true);\r\n      const res = await fetch(\"https://api.github.com/users/tomiwaaborowa/repos\");\r\n      const data = await res.json();\r\n      setRepos(data);\r\n      setLoading(false);\r\n      };\r\n      fetchRepos();\r\n      }, []);\r\n\r\n      function handlePageClick({ selected: selectedPage }) {\r\n        console.log('selectedPage', selectedPage);\r\n        setCurrentPage(selectedPage);\r\n      }\r\n\r\n      // Get current repos\r\n      const indexOfLastRepo = currentPage * repoPerPage;\r\n      const indexOfFirstRepo = indexOfLastRepo - repoPerPage;\r\n      const currentRepos = repos.slice(indexOfFirstRepo, indexOfLastRepo);\r\n\r\n      // Change page\r\n\r\n      const paginate = (pageNumber) => setCurrentPage(pageNumber);\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <h1 className=\"main-title\">My Repos</h1>\r\n        <Repos repos={currentRepos} loading={loading} />\r\n\r\n\r\n     \r\n\r\n      <ReactPaginate\r\n        previousLabel={\"prev\"}\r\n        nextLabel={\"next\"}\r\n        breakLabel={\"...\"}\r\n        pageCount={4}\r\n        containerClassName={\"pagination justify-content-center\"}\r\n        pageClassName={\"page-item\"}\r\n        onPageChange={handlePageClick}\r\n        pageLinkClassName={\"page-link\"}\r\n        previousClassName={\"page-item\"}\r\n        previousLinkClassName={\"page-link\"}\r\n        nextClassName={\"page-item\"}\r\n        nextLinkClassName={\"page-link\"}\r\n        activeClassName={\"active\"}\r\n        reposPerPage={repoPerPage}\r\n        totalRepos={repos.length}\r\n        paginate={paginate}\r\n        />\r\n        </div>\r\n\r\n      <div className=\"center\">\r\n        <button class=\"button\" onClick={ReturnHome}>\r\n          BACK <i class=\"fas fa-angle-double-left\"></i>\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default MyRepos;\r\n"],"mappings":"mZAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAOC,cAAa,KAAM,gBAAgB,CAC1C,MAAQC,MAAK,KAAO,SAAS,CAAC,6IAE9B,QAASC,QAAO,EAAG,CACjB,GAAMC,SAAQ,CAAGJ,WAAW,EAAE,CAC9B,GAAMK,WAAU,CAAG,QAAbA,WAAU,EAAS,CACvBD,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,CAGD,cAAsCL,QAAQ,CAAC,CAAC,CAAC,wCAA1CO,WAAW,eAAEC,cAAc,eAClC,eAA0BR,QAAQ,CAAC,EAAE,CAAC,yCAA/BS,KAAK,eAAEC,QAAQ,eACtB,eAAsBV,QAAQ,CAAC,CAAC,CAAC,yCAA1BW,WAAW,eAClB,eAA8BX,QAAQ,CAAC,KAAK,CAAC,yCAAtCY,OAAO,eAAEC,UAAU,eAG1Bd,SAAS,CAAE,UAAM,CACf,GAAMe,WAAU,4FAAG,kJACjBD,UAAU,CAAC,IAAI,CAAC,CAAC,sBACCE,MAAK,CAAC,kDAAkD,CAAC,QAArEC,GAAG,qCACUA,IAAG,CAACC,IAAI,EAAE,QAAvBC,IAAI,eACVR,QAAQ,CAACQ,IAAI,CAAC,CACdL,UAAU,CAAC,KAAK,CAAC,CAAC,sDACjB,kBANGC,WAAU,0CAMb,CACDA,UAAU,EAAE,CACZ,CAAC,CAAE,EAAE,CAAC,CAEN,QAASK,gBAAe,OAA6B,IAAhBC,aAAY,OAAtBC,QAAQ,CACjCC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAEH,YAAY,CAAC,CACzCZ,cAAc,CAACY,YAAY,CAAC,CAC9B,CAEA;AACA,GAAMI,gBAAe,CAAGjB,WAAW,CAAGI,WAAW,CACjD,GAAMc,iBAAgB,CAAGD,eAAe,CAAGb,WAAW,CACtD,GAAMe,aAAY,CAAGjB,KAAK,CAACkB,KAAK,CAACF,gBAAgB,CAAED,eAAe,CAAC,CAEnE;AAEA,GAAMI,SAAQ,CAAG,QAAXA,SAAQ,CAAIC,UAAU,QAAKrB,eAAc,CAACqB,UAAU,CAAC,GAE/D,mBACE,wCACE,oCACE,WAAI,SAAS,CAAC,YAAY,sBAAc,cACxC,KAAC,KAAK,EAAC,KAAK,CAAEH,YAAa,CAAC,OAAO,CAAEd,OAAQ,EAAG,cAKlD,KAAC,aAAa,EACZ,aAAa,CAAE,MAAO,CACtB,SAAS,CAAE,MAAO,CAClB,UAAU,CAAE,KAAM,CAClB,SAAS,CAAE,CAAE,CACb,kBAAkB,CAAE,mCAAoC,CACxD,aAAa,CAAE,WAAY,CAC3B,YAAY,CAAEO,eAAgB,CAC9B,iBAAiB,CAAE,WAAY,CAC/B,iBAAiB,CAAE,WAAY,CAC/B,qBAAqB,CAAE,WAAY,CACnC,aAAa,CAAE,WAAY,CAC3B,iBAAiB,CAAE,WAAY,CAC/B,eAAe,CAAE,QAAS,CAC1B,YAAY,CAAER,WAAY,CAC1B,UAAU,CAAEF,KAAK,CAACqB,MAAO,CACzB,QAAQ,CAAEF,QAAS,EACjB,GACI,cAER,YAAK,SAAS,CAAC,QAAQ,uBACrB,gBAAQ,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAEtB,UAAW,gCACpC,UAAG,KAAK,CAAC,0BAA0B,EAAK,GACtC,EACL,GACL,CAEP,CACA,cAAeF,QAAO"},"metadata":{},"sourceType":"module"}